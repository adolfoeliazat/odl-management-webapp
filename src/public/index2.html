<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Foundation 5</title>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.0/css/normalize.min.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.0/css/foundation.min.css">
        <link rel="stylesheet" href="css/odl1.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.0/js/vendor/modernizr.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js"></script>
        <script src="js/odl.js"></script>
        <script src="js/filters/partition.js"></script>
        <script src="js/services/server.js"></script>
        <script src="js/controllers/devices.js"></script>
        <script src="js/controllers/device.js"></script>
    </head>
    <body ng-app="odl">
        <div class="fixed">
            <nav class="top-bar" data-topbar>
                <ul class="title-area">
                    <li class="name">
                        <h1><a href="#">ODL Management</a></h1>
                    </li>
                    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
                </ul>
                <section class="top-bar-section">
                    <ul class="right">
                        <li class="has-dropdown">
                            <a href="#">User</a>
                            <ul class="dropdown">
                                <li><a href="#">Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="left">
                        <li class="active"><a href="#">Devices</a></li>
                        <li><a href="/qrs.html">QR Codes</a></li>
                    </ul>
                </section>
            </nav>
        </div>
        <nav id="devices" ng-controller="devices">
            <div class="row collapse text-center">
                <div class="small-12 columns">
                    <input ng-model="imei" class="text-center" type="text" placeholder="Search devices">
                </div>
            </div>
            <div class="panel row collapse">
                <ul id="devices-list" class="small-block-grid-3 medium-block-grid-4 large-block-grid-5">
                    <li data-reveal-id="device-modal" ng-click="select(device)" ng-repeat="device in filterDevices = (devices | filter:imei)">
                        <h4>{{device.imei}}</h4>
                        <img src="{{device.image}}">
                    </li>
                    <div class="text-center" ng-hide="filterDevices.length">
                        <h1><small>No devices found for this IMEI<small></h1>
                        <a href="#" ng-click="newDevice()" class="button">Create device</a>
                    </div>
                </ul>
            </div>
        </nav>
        <div id="device-modal" class="reveal-modal" data-reveal ng-controller="device">            
            <div class="row">
                <div class="text-center small-3 columns">
                    <img src="{{device.image}}">
                    <div><a href="" class="button alert tiny" ng-click="delete()">Delete device</a></div>
                </div>
                <div class="small-9 columns">
                    <h4>IMEI: {{device.imei}}</h4>
                    <h4>Attributes ({{device.attributes.length}})</h4>
                    <blockquote>                        
                        <ul id="attrs-list" class="small-block-grid-3 medium-block-grid-4 large-block-grid-5">
                            <li ng-repeat="attribute in device.attributes">                                
                                <strong>{{attribute.name}}</strong>
                                <span>{{attribute.value}}</span>
                            </li>                            
                        </ul>                        
                    </blockquote>
                </div>
            </div>            
            <a class="close-reveal-modal">&#215;</a>
        </div>
        <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.0/js/vendor/jquery.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.0/js/foundation.min.js"></script>
        <script>
            $(document).foundation();
        </script>
    </body>
</html>